<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Feature set table — FeatureSetTable-class • iSEEu</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Feature set table — FeatureSetTable-class"><meta name="description" content="A table where each row is itself a feature set and can be clicked to transmit a multiple feature selection to another panel.
This relies on feature set collections that have been registered in the input SummarizedExperiment,
see registerFeatureSetCollections for more details.
If no collections have been registered, we default to the GO and KEGG collections from createGeneSetCommands."><meta property="og:description" content="A table where each row is itself a feature set and can be clicked to transmit a multiple feature selection to another panel.
This relies on feature set collections that have been registered in the input SummarizedExperiment,
see registerFeatureSetCollections for more details.
If no collections have been registered, we default to the GO and KEGG collections from createGeneSetCommands."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">iSEEu</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.17.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/iSEEu.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iSEE/iSEEu/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Feature set table</h1>
      <small class="dont-index">Source: <a href="https://github.com/iSEE/iSEEu/blob/devel/R/FeatureSetTable.R" class="external-link"><code>R/FeatureSetTable.R</code></a></small>
      <div class="d-none name"><code>FeatureSetTable-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A table where each row is itself a feature set and can be clicked to transmit a multiple feature selection to another panel.
This relies on feature set collections that have been registered in the input SummarizedExperiment,
see <code><a href="registerFeatureSetCollections.html">registerFeatureSetCollections</a></code> for more details.
If no collections have been registered, we default to the GO and KEGG collections from <code><a href="createGeneSetCommands.html">createGeneSetCommands</a></code>.</p>
    </div>


    <div class="section level2">
    <h2 id="slot-overview">Slot overview<a class="anchor" aria-label="anchor" href="#slot-overview"></a></h2>


<p>The following slots control the feature sets in use:</p><ul><li><p><code>Collection</code>, string specifying the type of feature set collection to show.
Defaults to the first registered collection in the SummarizedExperiment.</p></li>
</ul><p>The following slots control the table selections:</p><ul><li><p><code>Selected</code>, a string containing the name of the currently selected gene set.
Defaults to <code>""</code>, i.e., no selection.</p></li>
<li><p><code>Search</code>, a string containing the regular expression for the global search.
Defaults to <code>""</code>, i.e., no search.</p></li>
<li><p><code>SearchColumns</code>, a character vector where each entry contains the search string for each column.
Defaults to an empty character vector, i.e., no search.</p></li>
</ul><p>In addition, this class inherits all slots from its parent Panel class.</p>
    </div>
    <div class="section level2">
    <h2 id="constructor">Constructor<a class="anchor" aria-label="anchor" href="#constructor"></a></h2>


<p><code>FeatureSetTable(...)</code> creates an instance of a FeatureSetTable class,
where any slot and its value can be passed to <code>...</code> as a named argument.</p>
    </div>
    <div class="section level2">
    <h2 id="supported-methods">Supported methods<a class="anchor" aria-label="anchor" href="#supported-methods"></a></h2>


<p>In the following code snippets, <code>x</code> is an instance of a FeatureSetTable class.
Refer to the documentation for each method for more details on the remaining arguments.</p>
<p>For setting up data values:</p><ul><li><p><code>.cacheCommonInfo(x)</code> adds a <code>"FeatureSetTable"</code> entry containing <code>available.sets</code>, a named list of DataFrames containing information about the individual gene sets for each collection.
This will also call the equivalent Panel method.</p></li>
<li><p><code>.refineParameters(x, se)</code> replaces <code>NA</code> values in <code>Collection</code> with the first valid collection.
It also replaces <code>NA</code> values for <code>Selected</code> with the first valid set in the chosen collection.
This will also call the equivalent Panel method.</p></li>
</ul><p>For defining the interface:</p><ul><li><p><code>.defineDataInterface(x, se, select_info)</code> returns a list of interface elements for manipulating all slots described above.</p></li>
<li><p><code>.panelColor(x)</code> will return the specified default color for this panel class.</p></li>
<li><p><code>.fullName(x)</code> will return <code>"Gene set table"</code>.</p></li>
<li><p><code>.hideInterface(x)</code> will return <code>TRUE</code> for UI elements related to multiple selections,
otherwise calling the method for Panel.</p></li>
<li><p><code>.defineOutput(x)</code> will return a HTML element containing a <code>datatable</code> widget.</p></li>
</ul><p>For monitoring reactive expressions:</p><ul><li><p><code>.createObservers(x, se, input, session, pObjects, rObjects)</code> sets up observers for all new slots described above, as well as in the parent classes via the Panel method.</p></li>
</ul><p>For creating the table:</p><ul><li><p><code>.generateOutput(x, envir)</code> will create a data.frame of gene set descriptions in <code>envir</code>.
It will also return the commands required to do so and the name of the variable corresponding to said data.frame.</p></li>
<li><p><code>.renderOutput(x, se, ..., output, pObjects, rObjects)</code>
will add a <code>datatable</code> widget to the output,
which is used to render the aforementioned data.frame.</p></li>
</ul><p>For controlling the multiple selections:</p><ul><li><p><code>.multiSelectionDimension(x)</code> returns <code>"row"</code>.</p></li>
<li><p><code>.multiSelectionCommands(x, index)</code> returns a string specifying the commands to be used to extract the identities of the genes in the currently selected set.
<code>index</code> is ignored.</p></li>
<li><p><code>.multiSelectionActive(x)</code> returns the name of the currently selected gene set,
unless no selection is made, in which case <code>NULL</code> is returned.</p></li>
<li><p><code>.multiSelectionClear(x)</code> returns <code>x</code> but with the <code>Selected</code> slot replaced by an empty string.</p></li>
<li><p><code>.multiSelectionAvailable(x, contents)</code> returns <code>contents$available</code>,
which is set to the number of features in <code>se</code>.</p></li>
</ul><p>For documentation:</p><ul><li><p><code>.definePanelTour(x)</code> returns an data.frame containing the steps of a panel-specific tour.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Aaron Lun</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">scRNAseq</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sce</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scRNAseq/man/LunSpikeInData.html" class="external-link">LunSpikeInData</a></span><span class="op">(</span>location<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://bioconductor.org/packages/scater/" class="external-link">scater</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sce</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scuttle/man/logNormCounts.html" class="external-link">logNormCounts</a></span><span class="op">(</span><span class="va">sce</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MarioniLab/scran/" class="external-link">scran</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">rowData</span><span class="op">(</span><span class="va">sce</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu">rowData</span><span class="op">(</span><span class="va">sce</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/scran/man/modelGeneVarWithSpikes.html" class="external-link">modelGeneVarWithSpikes</a></span><span class="op">(</span><span class="va">sce</span>, <span class="st">"ERCC"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cmds</span> <span class="op">&lt;-</span> <span class="fu"><a href="createGeneSetCommands.html">createGeneSetCommands</a></span><span class="op">(</span>collections<span class="op">=</span><span class="st">"GO"</span>,</span></span>
<span class="r-in"><span>    organism<span class="op">=</span><span class="st">"org.Mm.eg.db"</span>, identifier<span class="op">=</span><span class="st">"ENSEMBL"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sce</span> <span class="op">&lt;-</span> <span class="fu"><a href="registerFeatureSetCollections.html">registerFeatureSetCommands</a></span><span class="op">(</span><span class="va">sce</span>, <span class="va">cmds</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setting up the application.</span></span></span>
<span class="r-in"><span><span class="va">gst</span> <span class="op">&lt;-</span> <span class="fu">FeatureSetTable</span><span class="op">(</span>PanelId<span class="op">=</span><span class="fl">1L</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rdp</span> <span class="op">&lt;-</span> <span class="fu">RowDataPlot</span><span class="op">(</span>RowSelectionSource<span class="op">=</span><span class="st">"FeatureSetTable1"</span>,</span></span>
<span class="r-in"><span>    ColorBy<span class="op">=</span><span class="st">"Row selection"</span>,</span></span>
<span class="r-in"><span>    XAxis<span class="op">=</span><span class="st">"Row data"</span>, XAxisRowData<span class="op">=</span><span class="st">"mean"</span>, YAxis<span class="op">=</span><span class="st">"total"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rdt</span> <span class="op">&lt;-</span> <span class="fu">RowDataTable</span><span class="op">(</span>RowSelectionSource<span class="op">=</span><span class="st">"FeatureSetTable1"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">iSEE</span><span class="op">(</span><span class="va">sce</span>, initial<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">gst</span>, <span class="va">rdp</span>, <span class="va">rdt</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kevin Rue-Albrecht, Charlotte Soneson, Federico Marini, Aaron Lun.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

