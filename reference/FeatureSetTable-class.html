<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Feature set table — FeatureSetTable-class • iSEEu</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Feature set table — FeatureSetTable-class" />
<meta property="og:description" content="A table where each row is itself a feature set and can be clicked to transmit a multiple feature selection to another panel." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iSEEu</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/iSEEu_contribute_eurobioc2019.html">iSEEu_contribute_eurobioc2019
</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/iSEE/iSEEu">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Feature set table</h1>
    <small class="dont-index">Source: <a href='https://github.com/iSEE/iSEEu/blob/master/R/FeatureSetTable.R'><code>R/FeatureSetTable.R</code></a></small>
    <div class="hidden name"><code>FeatureSetTable-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A table where each row is itself a feature set and can be clicked to transmit a multiple feature selection to another panel.</p>
    </div>



    <h2 class="hasAnchor" id="slot-overview"><a class="anchor" href="#slot-overview"></a>Slot overview</h2>

    

<p>The following slots control the feature sets in use:</p><ul>
<li><p><code>Collection</code>, string specifying the type of feature set collection to show.
Defaults to the first set.</p></li>
<li><p><code>CreateCollections</code>, a named character vector where each entry is named after a feature set collection.
Each entry should be a string containing R commands to define a data.frame named <code>tab</code>, where each row is a feature set and the row names are the names of those sets.</p></li>
<li><p><code>RetrieveSet</code>, a named character vector where each entry is named after a feature set collection.
Each entry should be a string containing R commands to define a character vector named <code>selected</code> containing the identity of all rows of the SummarizedExperiment in the set of interest.
(These commands can assume that a <code>.set_id</code> variable is present containing the name of the chosen feature set,
as well as the <code>se</code> variable containing the input SummarizedExperiment object.)</p></li>
</ul>

<p>The <code>CreateCollections</code> and <code>RetrieveSet</code> parameters cannot be changed inside the <code>iSEE</code> application.
In fact, they cannot even be set in the constructor as they are global to all FeatureSetTable instances.
Rather, they are always set to the fields of the same name in the output of <code><a href='getFeatureSetCommands.html'>getFeatureSetCommands</a></code>.
If these fields are also <code>NULL</code>, we fall back to the output of <code><a href='createGeneSetCommands.html'>createGeneSetCommands</a></code> with default parameters.</p>
<p>The following slots control the selections:</p><ul>
<li><p><code>Selected</code>, a string containing the name of the currently selected gene set.
Defaults to <code>""</code>, i.e., no selection.</p></li>
<li><p><code>Search</code>, a string containing the regular expression for the global search.
Defaults to <code>""</code>, i.e., no search.</p></li>
<li><p><code>SearchColumns</code>, a character vector where each entry contains the search string for each column.
Defaults to an empty character vector, i.e., no search.</p></li>
</ul>

<p>In addition, this class inherits all slots from its parent Panel class.</p>
    <h2 class="hasAnchor" id="constructor"><a class="anchor" href="#constructor"></a>Constructor</h2>

    

<p><code>FeatureSetTable(...)</code> creates an instance of a FeatureSetTable class,
where any slot and its value can be passed to <code>...</code> as a named argument.</p>
    <h2 class="hasAnchor" id="supported-methods"><a class="anchor" href="#supported-methods"></a>Supported methods</h2>

    

<p>In the following code snippets, <code>x</code> is an instance of a FeatureSetTable class.
Refer to the documentation for each method for more details on the remaining arguments.</p>
<p>For setting up data values:</p><ul>
<li><p><code>.cacheCommonInfo(x)</code> adds a <code>"FeatureSetTable"</code> entry containing <code>available.sets</code>, a named list of DataFrames containing information about the individual gene sets for each collection.
This will also call the equivalent Panel method.</p></li>
<li><p><code>.refineParameters(x, se)</code> replaces <code>NA</code> values in <code>Collection</code> with the first valid collection.
It also replaces <code>NA</code> values for <code>Selected</code> with the first valid set in the chosen collection.
This will also call the equivalent Panel method.</p></li>
</ul>

<p>For defining the interface:</p><ul>
<li><p><code>.defineDataInterface(x, se, select_info)</code> returns a list of interface elements for manipulating all slots described above.</p></li>
<li><p><code>.panelColor(x)</code> will return the specified default color for this panel class.</p></li>
<li><p><code>.fullName(x)</code> will return <code>"Gene set table"</code>.</p></li>
<li><p><code>.hideInterface(x)</code> will return <code>TRUE</code> for UI elements related to multiple selections,
otherwise calling the method for Panel.</p></li>
<li><p><code>.defineOutput(x)</code> will return a HTML element containing a <code>datatable</code> widget.</p></li>
</ul>

<p>For monitoring reactive expressions:</p><ul>
<li><p><code>.createObservers(x, se, input, session, pObjects, rObjects)</code> sets up observers for all new slots described above, as well as in the parent classes via the Panel method.</p></li>
</ul>

<p>For creating the table:</p><ul>
<li><p><code>.generateOutput(x, envir)</code> will create a data.frame of gene set descriptions in <code>envir</code>, based on the contents of <code>x[["CreateCollections"]]</code>.
It will also return the commands required to do so and the name of the variable corresponding to said data.frame.</p></li>
<li><p><code>.renderOutput(x, se, ..., output, pObjects, rObjects)</code>
will add a <code>datatable</code> widget to the output,
which is used to render the aforementioned data.frame.</p></li>
</ul>

<p>For controlling the multiple selections:</p><ul>
<li><p><code>.multiSelectionDimension(x)</code> returns <code>"row"</code>.</p></li>
<li><p><code>.multiSelectionCommands(x, index)</code> returns a string specifying the commands to be used to extract the identities of the genes in the currently selected set, based on the contents of <code>x[["RetrieveSet"]]</code>.
<code>index</code> is ignored.</p></li>
<li><p><code>.multiSelectionActive(x)</code> returns the name of the currently selected gene set,
unless no selection is made, in which case <code>NULL</code> is returned.</p></li>
<li><p><code>.multiSelectionClear(x)</code> returns <code>x</code> but with the <code>Selected</code> slot replaced by an empty string.</p></li>
<li><p><code>.multiSelectionAvailable(x, contents)</code> returns <code>contents$available</code>,
which is set to the number of features in <code>se</code>.</p></li>
</ul>

<p>For documentation:</p><ul>
<li><p><code>.definePanelTour(x)</code> returns an data.frame containing the steps of a panel-specific tour.</p></li>
</ul>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Aaron Lun</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>scRNAseq</span><span class='op'>)</span>
<span class='va'>sce</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/scRNAseq/man/LunSpikeInData.html'>LunSpikeInData</a></span><span class='op'>(</span>location<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2020-10-02</span></div><div class='output co'>#&gt; <span class='message'>see ?scRNAseq and browseVignettes('scRNAseq') for documentation</span></div><div class='output co'>#&gt; <span class='message'>downloading 1 resources</span></div><div class='output co'>#&gt; <span class='message'>retrieving 1 resource</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='output co'>#&gt; <span class='message'>see ?scRNAseq and browseVignettes('scRNAseq') for documentation</span></div><div class='output co'>#&gt; <span class='message'>downloading 1 resources</span></div><div class='output co'>#&gt; <span class='message'>retrieving 1 resource</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='output co'>#&gt; <span class='message'>see ?scRNAseq and browseVignettes('scRNAseq') for documentation</span></div><div class='output co'>#&gt; <span class='message'>downloading 1 resources</span></div><div class='output co'>#&gt; <span class='message'>retrieving 1 resource</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2020-10-02</span></div><div class='output co'>#&gt; <span class='message'>see ?scRNAseq and browseVignettes('scRNAseq') for documentation</span></div><div class='output co'>#&gt; <span class='message'>downloading 1 resources</span></div><div class='output co'>#&gt; <span class='message'>retrieving 1 resource</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://bioconductor.org/packages/scater/'>scater</a></span><span class='op'>)</span>
<span class='va'>sce</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/scuttle/man/logNormCounts.html'>logNormCounts</a></span><span class='op'>(</span><span class='va'>sce</span><span class='op'>)</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>scran</span><span class='op'>)</span>
<span class='fu'>rowData</span><span class='op'>(</span><span class='va'>sce</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='fu'>rowData</span><span class='op'>(</span><span class='va'>sce</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/scran/man/modelGeneVarWithSpikes.html'>modelGeneVarWithSpikes</a></span><span class='op'>(</span><span class='va'>sce</span>, <span class='st'>"ERCC"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>cmds</span> <span class='op'>&lt;-</span> <span class='fu'><a href='createGeneSetCommands.html'>createGeneSetCommands</a></span><span class='op'>(</span>collections<span class='op'>=</span><span class='st'>"GO"</span>,
    organism<span class='op'>=</span><span class='st'>"org.Mm.eg.db"</span>, identifier<span class='op'>=</span><span class='st'>"ENSEMBL"</span><span class='op'>)</span>
<span class='va'>gst</span> <span class='op'>&lt;-</span> <span class='fu'>FeatureSetTable</span><span class='op'>(</span>PanelId<span class='op'>=</span><span class='fl'>1L</span>, RetrieveSet<span class='op'>=</span><span class='va'>cmds</span><span class='op'>$</span><span class='va'>RetrieveSet</span>,
    CreateCollections<span class='op'>=</span><span class='va'>cmds</span><span class='op'>$</span><span class='va'>CreateCollections</span><span class='op'>)</span>

<span class='va'>rdp</span> <span class='op'>&lt;-</span> <span class='fu'>RowDataPlot</span><span class='op'>(</span>RowSelectionSource<span class='op'>=</span><span class='st'>"FeatureSetTable1"</span>,
    SelectionEffect<span class='op'>=</span><span class='st'>"Color"</span>,
    XAxis<span class='op'>=</span><span class='st'>"Row data"</span>, XAxisRowData<span class='op'>=</span><span class='st'>"mean"</span>, YAxis<span class='op'>=</span><span class='st'>"total"</span><span class='op'>)</span>

<span class='va'>rdt</span> <span class='op'>&lt;-</span> <span class='fu'>RowDataTable</span><span class='op'>(</span>RowSelectionSource<span class='op'>=</span><span class='st'>"FeatureSetTable1"</span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='fu'>iSEE</span><span class='op'>(</span><span class='va'>sce</span>, initial<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>gst</span>, <span class='va'>rdp</span>, <span class='va'>rdt</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://kevinrue.github.io'>Kevin Rue-Albrecht</a>, <a href='https://csoneson.github.io'>Charlotte Soneson</a>, <a href='https://federicomarini.github.io'>Federico Marini</a>, <a href='https://LTLA.github.io'>Aaron Lun</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


